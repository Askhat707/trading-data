name: üöÄ Deploy Trading Data Terminal

on:
  push:
    branches: [ main, master ]
  pull_request:
    branches: [ main, master ]
  workflow_dispatch:  # –†–∞–∑—Ä–µ—à–∏—Ç—å —Ä—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫
    inputs:
      force_redeploy:
        description: '–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –¥–µ–ø–ª–æ–π (–ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥)'
        required: false
        default: 'false'

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –¥–ª—è GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è –≤—Å–µ–≥–æ workflow
env:
  NODE_VERSION: '18'
  FIREBASE_API_KEY: ${{ secrets.FIREBASE_API_KEY }}
  FIREBASE_AUTH_DOMAIN: ${{ secrets.FIREBASE_AUTH_DOMAIN }}
  FIREBASE_DATABASE_URL: ${{ secrets.FIREBASE_DATABASE_URL }}
  FIREBASE_PROJECT_ID: ${{ secrets.FIREBASE_PROJECT_ID }}
  FIREBASE_STORAGE_BUCKET: ${{ secrets.FIREBASE_STORAGE_BUCKET }}
  FIREBASE_MESSAGING_SENDER_ID: ${{ secrets.FIREBASE_MESSAGING_SENDER_ID }}
  FIREBASE_APP_ID: ${{ secrets.FIREBASE_APP_ID }}
  FIREBASE_MEASUREMENT_ID: ${{ secrets.FIREBASE_MEASUREMENT_ID }}

jobs:
  validate-secrets:
    name: üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
    runs-on: ubuntu-latest
    outputs:
      secrets_valid: ${{ steps.check-secrets.outputs.valid }}
      missing_secrets: ${{ steps.check-secrets.outputs.missing }}
    
    steps:
      - name: üì• –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
        uses: actions/checkout@v4
        
      - name: üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –≤—Å–µ—Ö —Å–µ–∫—Ä–µ—Ç–æ–≤
        id: check-secrets
        run: |
          echo "üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ GitHub Secrets..."
          
          REQUIRED_SECRETS=(
            "FIREBASE_API_KEY"
            "FIREBASE_AUTH_DOMAIN" 
            "FIREBASE_DATABASE_URL"
            "FIREBASE_PROJECT_ID"
            "FIREBASE_STORAGE_BUCKET"
            "FIREBASE_MESSAGING_SENDER_ID"
            "FIREBASE_APP_ID"
            "FIREBASE_MEASUREMENT_ID"
          )
          
          missing_secrets=""
          valid=true
          
          for secret in "${REQUIRED_SECRETS[@]}"; do
            # –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è workflow
            secret_value="${!secret}"
            
            if [ -z "$secret_value" ]; then
              echo "‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Å–µ–∫—Ä–µ—Ç: $secret"
              missing_secrets="$missing_secrets,$secret"
              valid=false
            else
              # –ú–∞—Å–∫–∏—Ä—É–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –ª–æ–≥–æ–≤
              masked_value="${secret_value:0:10}...${secret_value: -5}"
              echo "‚úÖ –°–µ–∫—Ä–µ—Ç $secret –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç: $masked_value"
            fi
          done
          
          # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
          echo "valid=$valid" >> $GITHUB_OUTPUT
          echo "missing=${missing_secrets#,}" >> $GITHUB_OUTPUT
          
          if [ "$valid" = false ]; then
            echo "‚ùå –ù–ï –í–°–ï –°–ï–ö–†–ï–¢–´ –ù–ê–ô–î–ï–ù–´!"
            echo "üìã –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ: ${missing_secrets#,}"
            echo "üîß –î–æ–±–∞–≤—å—Ç–µ –∏—Ö –≤ Settings ‚Üí Secrets and variables ‚Üí Actions"
          else
            echo "‚úÖ –í–°–ï –°–ï–ö–†–ï–¢–´ –ü–†–ò–°–£–¢–°–¢–í–£–Æ–¢"
          fi

  generate-config:
    name: üîß –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
    runs-on: ubuntu-latest
    needs: validate-secrets
    if: needs.validate-secrets.outputs.secrets_valid == 'true'
    
    steps:
      - name: üì• –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
          
      - name: üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Node.js
        uses: actions/setup-node@v4
        with:
          node-version: ${{ env.NODE_VERSION }}
          cache: 'npm'
          
      - name: üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
        run: |
          echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ npm –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
          npm ci || npm install
          
      - name: üîß –ì–ï–ù–ï–†–ê–¶–ò–Ø FIREBASE CONFIG –ò–ó –®–ê–ë–õ–û–ù–ê
        id: generate-config
        run: |
          echo "üöÄ –ù–∞—á–∞–ª–æ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ firebase-config.js..."
          echo "üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ–∫—Ä–µ—Ç–∞—Ö:"
          echo "  - –ü—Ä–æ–µ–∫—Ç: ${{ env.FIREBASE_PROJECT_ID }}"
          echo "  - Database URL: ${{ env.FIREBASE_DATABASE_URL }}"
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ —à–∞–±–ª–æ–Ω–∞
          if [ ! -f "firebase-config.js.template" ]; then
            echo "‚ùå –û–®–ò–ë–ö–ê: –®–∞–±–ª–æ–Ω firebase-config.js.template –Ω–µ –Ω–∞–π–¥–µ–Ω!"
            exit 1
          fi
          
          # –ß–∏—Ç–∞–µ–º —à–∞–±–ª–æ–Ω
          TEMPLATE_CONTENT=$(cat firebase-config.js.template)
          
          # –ó–∞–º–µ–Ω—è–µ–º –≤—Å–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
          echo "üîß –ó–∞–º–µ–Ω–∞ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤..."
          
          CONFIG_CONTENT="$TEMPLATE_CONTENT"
          
          # –°–ø–∏—Å–æ–∫ –∑–∞–º–µ–Ω
          declare -A replacements=(
            ["{{FIREBASE_API_KEY}}"]="${{ env.FIREBASE_API_KEY }}"
            ["{{FIREBASE_AUTH_DOMAIN}}"]="${{ env.FIREBASE_AUTH_DOMAIN }}"
            ["{{FIREBASE_DATABASE_URL}}"]="${{ env.FIREBASE_DATABASE_URL }}"
            ["{{FIREBASE_PROJECT_ID}}"]="${{ env.FIREBASE_PROJECT_ID }}"
            ["{{FIREBASE_STORAGE_BUCKET}}"]="${{ env.FIREBASE_STORAGE_BUCKET }}"
            ["{{FIREBASE_MESSAGING_SENDER_ID}}"]="${{ env.FIREBASE_MESSAGING_SENDER_ID }}"
            ["{{FIREBASE_APP_ID}}"]="${{ env.FIREBASE_APP_ID }}"
            ["{{FIREBASE_MEASUREMENT_ID}}"]="${{ env.FIREBASE_MEASUREMENT_ID }}"
          )
          
          for placeholder in "${!replacements[@]}"; do
            value="${replacements[$placeholder]}"
            if [ -z "$value" ]; then
              echo "‚ùå –û–®–ò–ë–ö–ê: –ü—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è $placeholder"
              exit 1
            fi
            CONFIG_CONTENT="${CONFIG_CONTENT//$placeholder/$value}"
          done
          
          # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª
          echo "$CONFIG_CONTENT" > firebase-config.js
          
          echo "‚úÖ firebase-config.js —É—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω"
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä–æ–≤
          if [ ! -f "firebase-config.js" ]; then
            echo "‚ùå –û–®–ò–ë–ö–ê: –§–∞–π–ª firebase-config.js –Ω–µ —Å–æ–∑–¥–∞–Ω!"
            exit 1
          fi
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã
          if grep -q "{{" firebase-config.js; then
            echo "‚ùå –û–®–ò–ë–ö–ê: –í —Ñ–∞–π–ª–µ –æ—Å—Ç–∞–ª–∏—Å—å –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã!"
            grep -n "{{" firebase-config.js
            exit 1
          fi
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
          if grep -q '""' firebase-config.js || grep -q "''" firebase-config.js; then
            echo "‚ùå –û–®–ò–ë–ö–ê: –í —Ñ–∞–π–ª–µ –µ—Å—Ç—å –ø—É—Å—Ç—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è!"
            grep -n '""\|'\"'' firebase-config.js
            exit 1
          fi
          
          echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ"
          
          # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 15 —Å—Ç—Ä–æ–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
          echo "üìÑ –ü–µ—Ä–≤—ã–µ 15 —Å—Ç—Ä–æ–∫ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:"
          head -n 15 firebase-config.js
          
          # –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ö—ç—à –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —à–∞–≥–∞
          echo "config_hash=$(sha256sum firebase-config.js | cut -d' ' -f1)" >> $GITHUB_OUTPUT

      - name: üìä –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò
        run: |
          echo "üîç –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏..."
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞
          FILE_SIZE=$(stat -f%z firebase-config.js 2>/dev/null || stat -c%s firebase-config.js 2>/dev/null)
          echo "üìè –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: $FILE_SIZE –±–∞–π—Ç"
          
          if [ "$FILE_SIZE" -lt 100 ]; then
            echo "‚ùå –û–®–ò–ë–ö–ê: –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –º–∞–ª–µ–Ω—å–∫–∏–π, –≤–µ—Ä–æ—è—Ç–Ω–æ –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω"
            exit 1
          fi
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤
          REQUIRED_KEYWORDS=("firebaseConfig" "apiKey" "authDomain" "databaseURL" "projectId")
          
          for keyword in "${REQUIRED_KEYWORDS[@]}"; do
            if ! grep -q "$keyword" firebase-config.js; then
              echo "‚ùå –û–®–ò–ë–ö–ê: –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–ª—é—á–µ–≤–æ–µ —Å–ª–æ–≤–æ: $keyword"
              exit 1
            fi
            echo "‚úÖ –ù–∞–π–¥–µ–Ω–æ: $keyword"
          done
          
          echo "üéØ –í–ï–†–ò–§–ò–ö–ê–¶–ò–Ø –ü–†–û–ô–î–ï–ù–ê –£–°–ü–ï–®–ù–û"

  deploy:
    name: üöÄ –î–µ–ø–ª–æ–π –Ω–∞ GitHub Pages
    runs-on: ubuntu-latest
    needs: [validate-secrets, generate-config]
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    
    steps:
      - name: üì• –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
        uses: actions/checkout@v4
        
      - name: üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Node.js
        uses: actions/setup-node@v4
        with:
          node-version: ${{ env.NODE_VERSION }}
          
      - name: üìÅ –ö–û–ü–ò–†–û–í–ê–ù–ò–ï –°–ì–ï–ù–ï–†–ò–†–û–í–ê–ù–ù–û–ô –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–ò
        run: |
          echo "üìã –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ firebase-config.js –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —à–∞–≥–∞..."
          # –°–æ–∑–¥–∞–µ–º firebase-config.js —Å —Ç–∞–∫–∏–º –∂–µ —Å–æ–¥–µ—Ä–∂–∏–º—ã–º –∫–∞–∫ –≤ generate-config
          cat > firebase-config.js << 'EOF'
const firebaseConfig = {
  apiKey: "${{ env.FIREBASE_API_KEY }}",
  authDomain: "${{ env.FIREBASE_AUTH_DOMAIN }}",
  databaseURL: "${{ env.FIREBASE_DATABASE_URL }}",
  projectId: "${{ env.FIREBASE_PROJECT_ID }}",
  storageBucket: "${{ env.FIREBASE_STORAGE_BUCKET }}",
  messagingSenderId: "${{ env.FIREBASE_MESSAGING_SENDER_ID }}",
  appId: "${{ env.FIREBASE_APP_ID }}",
  measurementId: "${{ env.FIREBASE_MEASUREMENT_ID }}"
};

console.log('üöÄ –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø FIREBASE (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞ –≤ GitHub Actions):');
console.log('‚úÖ –ü—Ä–æ–µ–∫—Ç:', firebaseConfig.projectId);
console.log('‚úÖ Database URL:', firebaseConfig.databaseURL);
console.log('‚úÖ Auth Domain:', firebaseConfig.authDomain);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∑–∞–º–µ–Ω–µ–Ω—ã
const checkConfig = () => {
  const values = Object.values(firebaseConfig);
  const hasPlaceholders = values.some(v => 
    typeof v === 'string' && (v.includes('${{') || v.includes('secrets.'))
  );
  
  if (hasPlaceholders) {
    console.error('‚ùå –û–®–ò–ë–ö–ê: –ù–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–º–µ–Ω–µ–Ω—ã!');
    console.error('üìã –¢–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:', firebaseConfig);
    throw new Error('Firebase –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã');
  }
  
  console.log('‚úÖ –í–°–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï –£–°–ü–ï–®–ù–û –ó–ê–ú–ï–ù–ï–ù–´');
  return true;
};

// –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
checkConfig();

// –≠–∫—Å–ø–æ—Ä—Ç
if (typeof window !== 'undefined') {
  window.firebaseConfig = firebaseConfig;
  console.log('‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ window.firebaseConfig');
}
EOF
          
          echo "‚úÖ firebase-config.js —Å–æ–∑–¥–∞–Ω"
          
          # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ñ–∞–π–ª
          echo "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞:"
          head -n 20 firebase-config.js
          
          # –°–æ–∑–¥–∞–µ–º .nojekyll –¥–ª—è GitHub Pages
          echo "üìÑ –°–æ–∑–¥–∞–Ω–∏–µ .nojekyll —Ñ–∞–π–ª–∞..."
          touch .nojekyll
          
          # –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –¥–µ–ø–ª–æ–µ
          echo "üìù –°–æ–∑–¥–∞–Ω–∏–µ DEPLOY_INFO.txt..."
          cat > DEPLOY_INFO.txt << DEPLOYEOF
üîÑ –î–ï–ü–õ–û–ô –¢–ï–†–ú–ò–ù–ê–õ–ê TRADING DATA
üìÖ –î–∞—Ç–∞: $(date)
üåê –í–µ—Ä—Å–∏—è: v2.0
üîß –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ: GitHub Actions
üî• Firebase –ø—Ä–æ–µ–∫—Ç: ${{ env.FIREBASE_PROJECT_ID }}
üöÄ URL: https://askhat707.github.io/trading-data/
DEPLOYEOF

      - name: üèóÔ∏è –ü–†–û–í–ï–†–ö–ê –°–¢–†–£–ö–¢–£–†–´ –ü–†–û–ï–ö–¢–ê
        run: |
          echo "üìÅ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞..."
          
          # –°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
          REQUIRED_FILES=(
            "index.html"
            "firebase-config.js"
            "js/app.js"
            "js/constants.js"
            "js/modules/auth.js"
            "js/modules/firebase.js"
            "js/services/api.js"
            "css/base.css"
            "service-worker.js"
          )
          
          for file in "${REQUIRED_FILES[@]}"; do
            if [ -f "$file" ]; then
              size=$(stat -f%z "$file" 2>/dev/null || stat -c%s "$file" 2>/dev/null)
              echo "‚úÖ $file ($size –±–∞–π—Ç)"
            else
              echo "‚ùå $file - –û–¢–°–£–¢–°–¢–í–£–ï–¢!"
              exit 1
            fi
          done
          
          echo "üìä –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:"
          find . -type f -name "*.js" -o -name "*.css" -o -name "*.html" | sort

      - name: üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub Pages
        uses: actions/configure-pages@v3
        
      - name: üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤
        uses: actions/upload-pages-artifact@v2
        with:
          path: '.'
          
      - name: üöÄ –î–ï–ü–õ–û–ô –ù–ê GITHUB PAGES
        id: deployment
        uses: actions/deploy-pages@v2
        
      - name: üìä –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –†–ï–ó–£–õ–¨–¢–ê–¢–ê
        if: always()
        run: |
          echo "=========================================="
          echo "          –†–ï–ó–£–õ–¨–¢–ê–¢ –î–ï–ü–õ–û–Ø"
          echo "=========================================="
          
          if [ "${{ job.status }}" = "success" ]; then
            echo "üéâ –£–°–ü–ï–®–ù–´–ô –î–ï–ü–õ–û–ô!"
            echo "üåê –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:"
            echo "   https://askhat707.github.io/trading-data/"
            echo ""
            echo "üìä –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:"
            echo "   –ü—Ä–æ–µ–∫—Ç Firebase: ${{ env.FIREBASE_PROJECT_ID }}"
            echo "   Database URL: ${{ env.FIREBASE_DATABASE_URL }}"
            echo "   –í—Ä–µ–º—è –¥–µ–ø–ª–æ—è: $(date)"
          else
            echo "‚ùå –î–ï–ü–õ–û–ô –ó–ê–í–ï–†–®–ò–õ–°–Ø –° –û–®–ò–ë–ö–û–ô"
            echo ""
            echo "üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:"
            echo "   1. –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç GitHub Secrets"
            echo "   2. –û—à–∏–±–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"
            echo "   3. –ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π"
            echo ""
            echo "üìã –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤—ã—à–µ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π"
          fi
          
          echo "=========================================="
