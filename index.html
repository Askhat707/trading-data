<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÜ Gold Options Pro v2 - Terminal</title>
    
    <!-- –°–¢–ò–õ–ò -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components/cards.css">
    <link rel="stylesheet" href="css/components/modal.css">
    <link rel="stylesheet" href="css/components/table.css">
    <link rel="stylesheet" href="css/pages/terminal.css">
    
    <!-- SERVICE WORKER -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('service-worker.js')
                    .then(reg => console.log('‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'))
                    .catch(err => console.warn('‚ö†Ô∏è Service Worker –æ—à–∏–±–∫–∞:', err));
            });
        }
    </script>
</head>
<body>
    <!-- –õ–û–ê–î–ï–† –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï -->
    <div id="loading" style="
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: #050505; display: flex; justify-content: center; 
        align-items: center; z-index: 9999; flex-direction: column;
    ">
        <div style="text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 20px;">‚ö°</div>
            <div style="color: #FFD700; font-size: 1.5rem; font-weight: 800; margin-bottom: 20px;">
                GOLD OPTIONS PRO v2
            </div>
            <div style="color: #888; font-size: 1rem; margin-bottom: 30px;">
                –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã...
            </div>
            <div style="width: 300px; height: 4px; background: rgba(255,215,0,0.2); border-radius: 2px; overflow: hidden;">
                <div style="height: 100%; background: linear-gradient(90deg, #FFD700, #FFD700); 
                    animation: slideIn 2s infinite; width: 50%;"></div>
            </div>
            <div style="color: #666; font-size: 0.85rem; margin-top: 30px;">
                üîÑ –ó–∞–≥—Ä—É–∂–∞–µ–º Firebase SDK...
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò -->
    <div id="auth-modal" class="auth-modal">
        <div class="auth-container">
            <div class="auth-header">
                <div class="auth-logo">‚ö° Gold Options Pro</div>
                <div class="auth-subtitle">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ç–µ—Ä–º–∏–Ω–∞–ª –∞–Ω–∞–ª–∏–∑–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤</div>
            </div>

            <!-- –§–û–†–ú–ê –í–•–û–î–ê -->
            <form class="auth-form" onsubmit="window.handleLogin(event)">
                <!-- –û–®–ò–ë–ö–ê -->
                <div id="auth-error" class="auth-error"></div>

                <!-- EMAIL -->
                <div class="form-group">
                    <label class="form-label" for="user-email">üìß Email</label>
                    <input 
                        type="email" 
                        id="user-email" 
                        class="form-input"
                        placeholder="–≤–∞—à@email.com"
                        required
                        autocomplete="email"
                    >
                </div>

                <!-- –ü–ê–†–û–õ–¨ -->
                <div class="form-group">
                    <label class="form-label" for="user-password">üîë –ü–∞—Ä–æ–ª—å</label>
                    <input 
                        type="password" 
                        id="user-password" 
                        class="form-input"
                        placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
                        required
                        autocomplete="current-password"
                    >
                </div>

                <!-- –ö–ù–û–ü–ö–ê –í–•–û–î–ê -->
                <button type="submit" id="auth-button" class="auth-button">
                    üîì –í–û–ô–¢–ò
                </button>
            </form>

            <!-- –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï (–ü–û–°–õ–ï –í–•–û–î–ê) -->
            <div id="user-info" class="user-info" style="display: none;">
                <div class="user-email" id="user-email-display"></div>
                <div class="user-plan" id="user-plan-display"></div>
            </div>

            <!-- –ù–ò–ñ–ù–ò–ô –¢–ï–ö–°–¢ -->
            <div class="auth-footer">
                <p>üîí –î–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã Firebase Security Rules</p>
                <p style="font-size: 0.75rem; color: #666; margin-top: 10px;">
                    –ö–æ–Ω—Ç–∞–∫—Ç: <strong>@ASKHAT_1985</strong> (Telegram)
                </p>
            </div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div id="main-content">
        <!-- –®–ê–ü–ö–ê -->
        <header>
            <div class="logo">‚ö° GOLD OPTIONS PRO</div>
            
            <nav>
                <a href="#terminal" class="nav-link active">–¢–µ—Ä–º–∏–Ω–∞–ª</a>
                <a href="#analytics" class="nav-link">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a>
                <a href="#settings" class="nav-link">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a>
            </nav>

            <div class="user-menu">
                <div class="user-badge" id="header-user-badge">
                    <span id="header-user-email">user@example.com</span>
                    <span id="header-user-plan" class="user-plan"></span>
                </div>
                <button class="logout-btn" onclick="window.handleLogout()">üëã –í—ã—Ö–æ–¥</button>
            </div>
        </header>

        <!-- –ö–û–ù–¢–ï–ô–ù–ï–† -->
        <div class="container">
            <!-- –°–¢–ê–¢–£–° –°–û–ï–î–ò–ù–ï–ù–ò–Ø -->
            <div class="status-bar">
                <div class="connection-status" id="connStatus">
                    üü° –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...
                </div>
                <div class="data-grid">
                    <div class="data-box">
                        <div class="data-label">üí∞ –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞</div>
                        <div class="data-value price" id="price">-</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">‚è∞ –û–±–Ω–æ–≤–ª–µ–Ω–æ</div>
                        <div class="data-value" id="updated">--:--:--</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">üìÖ DTE</div>
                        <div class="data-value" id="current-dte-display">-</div>
                    </div>
                </div>
            </div>

            <!-- –ö–ù–û–ü–ö–ò DTE -->
            <div style="margin: 30px 0; text-align: center;">
                <h2 style="color: #FFD700; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 2px;">
                    üìÖ –í—ã–±–µ—Ä–∏—Ç–µ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏—é
                </h2>
                <div id="dte-buttons" style="display: flex; gap: 15px; flex-wrap: wrap; justify-content: center;">
                    <span style="color: #666;">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
                </div>
            </div>

            <!-- –ê–ù–ê–õ–ò–¢–ò–ö–ê –ö–ê–†–¢–û–ß–ö–ò -->
            <div class="section-header">üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –û–ø—Ü–∏–æ–Ω–æ–≤</div>
            <div class="grid-8">
                <!-- Max Pain -->
                <div class="card">
                    <div class="card-header">
                        <span>üéØ</span>
                        <span>Max Pain</span>
                    </div>
                    <div class="card-main-value" id="mp">-</div>
                    <div class="card-sub">–¢–æ—á–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –±–æ–ª–∏</div>
                </div>

                <!-- –û–∂–∏–¥–∞–µ–º–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ -->
                <div class="card">
                    <div class="card-header">
                        <span>üìà</span>
                        <span>Expected Move</span>
                    </div>
                    <div class="card-main-value" id="em">-</div>
                    <div class="card-sub" id="em-range">Range: - to -</div>
                </div>

                <!-- –ù—É–ª–µ–≤–∞—è –≥–∞–º–º–∞ -->
                <div class="card">
                    <div class="card-header">
                        <span>0Ô∏è‚É£</span>
                        <span>Zero Gamma</span>
                        <div class="info-icon">
                            ?
                            <div class="tooltip">
                                –¶–µ–Ω–∞ –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π —Å—É–º–º–∞ –≥–∞–º–º–∞ –≤—Å–µ—Ö –æ–ø—Ü–∏–æ–Ω–æ–≤ —Ä–∞–≤–Ω–∞ –Ω—É–ª—é. 
                                –≠—Ç–æ —Ç–æ—á–∫–∞ –Ω–∞–∏–º–µ–Ω—å—à–µ–π –Ω–µ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Ü–µ–Ω—ã.
                            </div>
                        </div>
                    </div>
                    <div class="card-main-value" id="zg">-</div>
                    <div class="card-sub" id="zg-pos">–ü–æ–∑–∏—Ü–∏—è: -</div>
                </div>

                <!-- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ITM Call -->
                <div class="card">
                    <div class="card-header">
                        <span style="color: #00E676;">üìû</span>
                        <span>Prob ITM Call</span>
                    </div>
                    <div class="card-main-value" id="prob-c" style="color: #00E676;">-</div>
                    <div class="card-sub">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤ –¥–µ–Ω—å–≥–∞—Ö</div>
                </div>

                <!-- –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ITM Put -->
                <div class="card">
                    <div class="card-header">
                        <span style="color: #FF1744;">üì≤</span>
                        <span>Prob ITM Put</span>
                    </div>
                    <div class="card-main-value" id="prob-p" style="color: #FF1744;">-</div>
                    <div class="card-sub">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤ –¥–µ–Ω—å–≥–∞—Ö</div>
                </div>

                <!-- Call/Put Ratio -->
                <div class="card">
                    <div class="card-header">
                        <span>‚öñÔ∏è</span>
                        <span>Call/Put Ratio</span>
                    </div>
                    <div class="card-main-value" id="cp-ratio">-</div>
                    <div class="card-sub" id="sentiment">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: -</div>
                </div>

                <!-- Vanna -->
                <div class="card">
                    <div class="card-header">
                        <span>üåä</span>
                        <span>Vanna</span>
                    </div>
                    <div class="card-main-value" id="vanna">-</div>
                    <div class="card-sub">–ì—Ä–µ—á–µ—Å–∫–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</div>
                </div>

                <!-- Charm -->
                <div class="card">
                    <div class="card-header">
                        <span>‚ú®</span>
                        <span>Charm</span>
                    </div>
                    <div class="card-main-value" id="charm">-</div>
                    <div class="card-sub">–í—Ä–µ–º–µ–Ω–Ω–æ–µ –∑–∞—Ç—É—Ö–∞–Ω–∏–µ –≥–∞–º–º—ã</div>
                </div>
            </div>

            <!-- –¢–ê–ë–õ–ò–¶–ê –ò –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
            <div class="section-header">üìä –¶–µ–ø—å –û–ø—Ü–∏–æ–Ω–æ–≤ & TOP –°—Ç—Ä–∞–π–∫–∏</div>
            <div class="main-table-container">
                <!-- –¢–ê–ë–õ–ò–¶–ê -->
                <div class="table-wrapper">
                    <div class="table-controls">
                        <div style="display: flex; gap: 15px; align-items: center; flex-wrap: wrap;">
                            <!-- DTE Label -->
                            <div style="color: var(--gold); font-weight: 700; font-size: 0.9rem;">
                                üìÖ <span id="table-dte-label">EXPIRATION: -</span>
                            </div>

                            <!-- –ö–Ω–æ–ø–∫–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç—Ä–∞–π–∫–æ–≤ -->
                            <div style="display: flex; gap: 8px;">
                                <button class="btn active" data-cnt="15" onclick="window.app?.setStrikeCount(15)">15</button>
                                <button class="btn" data-cnt="25" onclick="window.app?.setStrikeCount(25)">25</button>
                                <button class="btn" data-cnt="35" onclick="window.app?.setStrikeCount(35)">35</button>
                            </div>

                            <!-- Premium Toggle -->
                            <button class="btn" id="btn-prem" onclick="window.app?.togglePremium()">
                                PREMIUM: OFF
                            </button>
                        </div>

                        <!-- Forward Adjustment -->
                        <div class="control-group">
                            <label class="control-label">Forward Adj:</label>
                            <input 
                                type="number" 
                                id="forward-adj" 
                                class="inp"
                                value="0"
                                step="0.1"
                                placeholder="0"
                            >
                            <button class="btn" onclick="window.app?.applyForwardAdjustment()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                        </div>
                    </div>

                    <!-- –°–ö–†–û–õ –¢–ê–ë–õ–ò–¶–ê -->
                    <div class="table-scroll">
                        <table>
                            <thead>
                                <tr>
                                    <th>CALL OI</th>
                                    <th>C VOL</th>
                                    <th>C PR</th>
                                    <th>C Œî</th>
                                    <th>C Œì</th>
                                    <th>C IV</th>
                                    <th>STRIKE</th>
                                    <th>P IV</th>
                                    <th>P Œì</th>
                                    <th>P Œî</th>
                                    <th>P PR</th>
                                    <th>P VOL</th>
                                    <th>PUT OI</th>
                                </tr>
                            </thead>
                            <tbody id="table-body">
                                <tr style="text-align: center; color: #666;">
                                    <td colspan="13">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- –°–ê–ô–î–ë–ê–† –°–¢–ê–¢–ò–°–¢–ò–ö–ò -->
                <div class="top-stats-sidebar">
                    <div class="top-stats-title">üìä TOP –°—Ç—Ä–∞–π–∫–∏</div>
                    
                    <div class="top-stats-grid">
                        <!-- TOP Call OI -->
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <div class="top-stat-name" style="color: #00E676;">üìû Call OI</div>
                            </div>
                            <div id="top-call-oi" class="top-stat-list"></div>
                        </div>

                        <!-- TOP Put OI -->
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <div class="top-stat-name" style="color: #FF1744;">üì≤ Put OI</div>
                            </div>
                            <div id="top-put-oi" class="top-stat-list"></div>
                        </div>

                        <!-- TOP Call Vol -->
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <div class="top-stat-name" style="color: #00E676;">üìà Call Vol</div>
                            </div>
                            <div id="top-call-vol" class="top-stat-list"></div>
                        </div>

                        <!-- TOP Put Vol -->
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <div class="top-stat-name" style="color: #FF1744;">üìâ Put Vol</div>
                            </div>
                            <div id="top-put-vol" class="top-stat-list"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- TOP BREAKEVENS -->
            <div class="section-header">üíé TOP 10 Breakevens</div>
            <div class="grid-8" id="top-breakevens">
                <div style="text-align: center; color: #888; padding: 30px; grid-column: 1/-1;">
                    –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
                </div>
            </div>

            <!-- –ì–†–ê–§–ò–ö–ò -->
            <div class="section-header">üìà –ì—Ä–∞—Ñ–∏–∫–∏ –∞–Ω–∞–ª–∏–∑–∞</div>
            <div class="chart-grid-8">
                <div class="chart-container">
                    <div class="chart-title">Open Interest Distribution</div>
                    <canvas id="chart-oi"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Volume Heatmap</div>
                    <canvas id="chart-vol"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">IV Smile Curve</div>
                    <canvas id="chart-iv"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Max Pain Curve</div>
                    <canvas id="chart-mp"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Gamma Exposure</div>
                    <canvas id="chart-gamma"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">GEX Profile</div>
                    <canvas id="chart-gex"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Delta Profile</div>
                    <canvas id="chart-delta"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Theta Decay</div>
                    <canvas id="chart-theta"></canvas>
                </div>
            </div>

            <!-- –ö–û–ù–¢–†–û–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨ -->
            <div class="bottom-control-panel">
                <div class="bottom-control-title">‚öôÔ∏è –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å</div>
                <div class="bottom-control-grid">
                    <div class="bottom-control-section">
                        <div class="bottom-control-title">üìä –≠–∫—Å–ø–æ—Ä—Ç</div>
                        <div class="control-row">
                            <button class="btn" onclick="window.app?.showNotification('–§—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞', 'info')">
                                üì• –≠–∫—Å–ø–æ—Ä—Ç CSV
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ========== FIREBASE SDK COMPAT (–ë–ï–ó –ö–õ–Æ–ß–ï–ô –í HTML!) ========== -->
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-database-compat.js"></script>

    <!-- FIREBASE CONFIG - –¢–û–õ–¨–ö–û –ó–ê–ì–õ–£–®–ö–ê, –†–ï–ê–õ–¨–ù–´–ô –°–û–ó–î–ê–Å–¢–°–Ø –ü–†–ò –î–ï–ü–õ–û–ï -->
    <script src="firebase-config.js"></script>

    <!-- –ë–ò–ë–õ–ò–û–¢–ï–ö–ò -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

    <!-- –ú–û–î–£–õ–ò –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø -->
    <script src="js/constants.js"></script>
    <script src="js/services/cache.js"></script>
    <script src="js/modules/firebase.js"></script>
    <script src="js/modules/auth.js"></script>
    <script src="js/services/api.js"></script>
    <script src="js/modules/charts.js"></script>
    <script src="js/modules/mt5.js"></script>
    <script src="js/utils/helpers.js"></script>
    <script src="js/app.js"></script>

    <!-- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø -->
    <script>
        // –°—Ç–∏–ª–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(-100%); }
                to { transform: translateX(0); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
