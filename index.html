<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- üî• –ê–ù–¢–ò–ö–≠–® –¢–ï–ì–ò -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ö°</text></svg>">
    <title>üèÜ Gold Options Pro v2 - Professional Trading Terminal</title>
    
    <!-- –°–¢–ò–õ–ò -->
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/components/cards.css">
    <link rel="stylesheet" href="./css/components/modal.css">
    <link rel="stylesheet" href="./css/components/table.css">
    <link rel="stylesheet" href="./css/pages/terminal.css">
    
    <!-- FIREBASE SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-database-compat.js"></script>
</head>
<body>
    <!-- üî• –ê–í–ê–†–ò–ô–ù–´–ô –ó–ê–ì–†–£–ó–ß–ò–ö (RECOVERY MODE) -->
    <script>
        (function() {
            console.log('üöÄ –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´ (RECOVERY MODE v2)...');
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏
            window.appLoaded = false;
            window.configLoaded = false;
            
            // 1. –£–ë–ò–í–ê–ï–ú –í–°–ï SERVICE WORKER-–´ (–ì–õ–ê–í–ù–û–ï –õ–ï–ß–ï–ù–ò–ï)
            if ('serviceWorker' in navigator) {
                navigator.serviceWorker.getRegistrations().then(function(registrations) {
                    for(let registration of registrations) {
                        console.log('üíÄ –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ Service Worker:', registration.scope);
                        registration.unregister();
                    }
                });
            }

            // 2. –ß–ò–°–¢–ò–ú –ö–≠–® –ë–†–ê–£–ó–ï–†–ê
            try {
                const itemsToKeep = ['gold_options_auth_v7']; // –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
                for (let i = 0; i < sessionStorage.length; i++) {
                    const key = sessionStorage.key(i);
                    if (!itemsToKeep.includes(key)) sessionStorage.removeItem(key);
                }
                if ('caches' in window) {
                    caches.keys().then(names => {
                        names.forEach(name => caches.delete(name));
                        console.log('üßπ –ö—ç—à–∏ –æ—á–∏—â–µ–Ω—ã');
                    });
                }
            } catch(e) { console.error(e); }

            // 3. –£–ú–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê –ö–û–ù–§–ò–ì–ê (–ê–ë–°–û–õ–Æ–¢–ù–´–ô –ü–£–¢–¨)
            function forceLoadFirebaseConfig() {
                return new Promise((resolve, reject) => {
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–æ–ª–Ω—ã–π –ø—É—Ç—å
                    let basePath = window.location.href.split('#')[0].split('?')[0];
                    if (basePath.endsWith('index.html')) {
                        basePath = basePath.substring(0, basePath.lastIndexOf('/'));
                    }
                    if (!basePath.endsWith('/')) basePath += '/';
                    
                    const configUrl = basePath + 'firebase-config.js?nocache=' + Date.now();
                    console.log('üéØ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ –ø–æ —Å—Å—ã–ª–∫–µ:', configUrl);

                    const script = document.createElement('script');
                    script.src = configUrl;
                    script.async = false;
                    
                    script.onload = function() {
                        if (typeof window.firebaseConfig !== 'undefined') {
                            console.log('‚úÖ –ö–æ–Ω—Ñ–∏–≥ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!');
                            window.configLoaded = true;
                            resolve(true);
                        } else {
                            reject(new Error('–§–∞–π–ª –∑–∞–≥—Ä—É–∂–µ–Ω, –Ω–æ –∫–æ–Ω—Ñ–∏–≥ –ø—É—Å—Ç'));
                        }
                    };
                    
                    script.onerror = function() {
                        console.error('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥');
                        reject(new Error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏'));
                    };
                    
                    document.head.appendChild(script);
                });
            }

            // 4. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
            async function initSystem() {
                try {
                    await forceLoadFirebaseConfig();
                    
                    // –ñ–¥–µ–º –∑–∞–≥—Ä—É–∑–∫–∏ Firebase SDK (–æ–Ω–∏ –≤ head)
                    if (typeof firebase === 'undefined') throw new Error('Firebase SDK –Ω–µ –≥–æ—Ç–æ–≤');
                    
                    console.log('üé¨ –ó–∞–ø—É—Å–∫ –ª–æ–≥–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
                    
                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–æ–¥—É–ª–∏, –µ—Å–ª–∏ –æ–Ω–∏ —É–∂–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏—Å—å
                    setTimeout(() => {
                        if (window.FirebaseModule) FirebaseModule.init();
                        if (window.AuthModule) {
                            AuthModule.autoInit();
                            window.appLoaded = true;
                            // –°–∫—Ä—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
                            const loading = document.getElementById('loading');
                            if(loading) loading.style.display = 'none';
                        }
                    }, 1000);
                    
                } catch (e) {
                    console.error('‚ùå –°–±–æ–π —Å—Ç–∞—Ä—Ç–∞:', e);
                    // –ï—Å–ª–∏ —Å–æ–≤—Å–µ–º –≤—Å—ë –ø–ª–æ—Ö–æ - –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É —Å–±—Ä–æ—Å–∞
                    setTimeout(() => {
                        if(!window.configLoaded) {
                            const loading = document.getElementById('loading');
                            if(loading) loading.innerHTML = '<div style="text-align:center; padding:50px; color:red;"><h1>‚ö† –û–®–ò–ë–ö–ê –ó–ê–ì–†–£–ó–ö–ò</h1><button onclick="window.location.reload(true)" style="padding:15px; font-size:1.5rem; cursor:pointer;">–°–ë–†–û–°–ò–¢–¨ –ò –ü–ï–†–ï–ó–ê–ì–†–£–ó–ò–¢–¨</button></div>';
                        }
                    }, 4000);
                }
            }

            // 5. –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò (–î–õ–Ø –ö–ù–û–ü–û–ö)
            window.handleLogin = function(event) {
                if(event) event.preventDefault();
                const e = document.getElementById('user-email').value;
                const p = document.getElementById('user-password').value;
                if(window.AuthModule) AuthModule.login(e, p);
                return false;
            };

            window.handleLogout = function() {
                if(window.AuthModule) {
                    if(confirm('–í—ã–π—Ç–∏?')) AuthModule.logout();
                }
            };

            window.toggleAuthMode = function() {
                alert('–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã—Ç–∞. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.');
            };

            window.forceHardReload = function() {
                window.location.reload(true);
            };
            
            window.testConfigUrl = function() { 
                alert('–ü—É—Ç—å: ' + window.location.href); 
            };

            // –ó–ê–ü–£–°–ö
            document.addEventListener('DOMContentLoaded', initSystem);
        })();
    </script>

    <!-- –õ–û–ê–î–ï–† -->
    <div id="loading">
        <div style="text-align: center; max-width: 400px; padding: 30px;">
            <div style="font-size: 4rem; margin-bottom: 20px; color: #FFD700;">‚ö°</div>
            <div style="color: #FFD700; font-size: 2rem; font-weight: 800; margin-bottom: 20px; letter-spacing: 2px;">
                GOLD OPTIONS PRO v2
            </div>
            <div style="color: #888; font-size: 1rem; margin-bottom: 30px;">
                –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è...
            </div>
            <div style="width: 300px; height: 4px; background: rgba(255,215,0,0.2); border-radius: 2px; overflow: hidden; margin: 0 auto 30px;">
                <div id="loading-bar" style="height: 100%; background: linear-gradient(90deg, #FFD700, #FFD700); width: 50%; transition: width 0.3s ease;"></div>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò -->
    <div id="auth-modal" class="hidden" style="
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.95); backdrop-filter: blur(20px);
        display: none;
        justify-content: center; align-items: center;
        z-index: 9999; opacity: 0; transition: opacity 0.5s ease;
    ">
        <div class="auth-container">
            <div class="auth-header">
                <div class="auth-logo">‚ö° GOLD OPTIONS PRO</div>
                <div class="auth-subtitle">Professional Trading Terminal v2</div>
            </div>
            
            <div id="auth-error" class="auth-error"></div>
            
            <form class="auth-form" onsubmit="return handleLogin(event)">
                <div class="form-group">
                    <label class="form-label">üìß Email –ê–¥—Ä–µ—Å</label>
                    <input type="email" id="user-email" class="form-input" placeholder="your@email.com" autocomplete="email">
                </div>
                
                <div class="form-group">
                    <label class="form-label">üîê –ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="user-password" class="form-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å" autocomplete="current-password">
                </div>
                
                <button type="submit" class="auth-button">üöÄ –í–û–ô–¢–ò</button>
            </form>
            
            <div class="auth-footer">
                <div style="font-size: 0.8rem; color: #666;">
                    ‚úÖ TRIAL: 3 –¥–Ω—è –±–µ—Å–ø–ª–∞—Ç–Ω–æ
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main-content" class="visible" style="display: none;">
        <!-- HEADER -->
        <header>
            <div class="logo">‚ö° GOLD OPTIONS PRO v2</div>
            <nav>
                <a href="#" class="active">–¢–ï–†–ú–ò–ù–ê–õ</a>
                <a href="#analytics">–ê–ù–ê–õ–ò–¢–ò–ö–ê</a>
                <a href="#charts">–ì–†–ê–§–ò–ö–ò</a>
            </nav>
            <div class="user-menu">
                <div class="user-badge">
                    <span>üë§</span>
                    <span id="user-email">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</span>
                </div>
                <button class="logout-btn" onclick="handleLogout()">–í–´–•–û–î</button>
            </div>
        </header>

        <!-- STATUS BAR -->
        <div class="container">
            <div class="status-bar">
                <div class="connection-status" id="connStatus">
                    <span style="color:#ff4444">üî¥ OFFLINE</span>
                </div>
                <div class="data-grid">
                    <div class="data-box">
                        <div class="data-label">–¢–ï–ö–£–©–ê–Ø –¶–ï–ù–ê</div>
                        <div class="data-value price" id="price">$2600.00</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">–í–û–õ–ê–¢–ò–õ–¨–ù–û–°–¢–¨</div>
                        <div class="data-value" id="volatility">18.50%</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">–ü–û–°–õ–ï–î–ù–ï–ï –û–ë–ù–û–í–õ–ï–ù–ò–ï</div>
                        <div class="data-value" style="font-size: 1.2rem;" id="updated">--:--:--</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">–¢–ï–ö–£–©–ê–Ø DTE</div>
                        <div class="data-value" id="current-dte-display">0</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- MAIN TITLE -->
        <div class="container">
            <h1 class="main-title">üìä –û–ü–¶–ò–û–ù–ù–ê–Ø –¶–ï–ü–¨</h1>
        </div>

        <!-- CONTROLS -->
        <div class="container">
            <div class="bottom-control-panel">
                <div class="bottom-control-title">‚öôÔ∏è –£–ü–†–ê–í–õ–ï–ù–ò–ï –¢–ï–†–ú–ò–ù–ê–õ–û–ú</div>
                
                <div class="bottom-control-grid">
                    <div class="bottom-control-section">
                        <div class="bottom-control-title">üìÖ –í–´–ë–û–† –≠–ö–°–ü–ò–†–ê–¶–ò–ò</div>
                        <div class="control-row" id="dte-buttons">
                            <span style="color:#666;">Loading expirations...</span>
                        </div>
                    </div>
                    
                    <div class="bottom-control-section">
                        <div class="bottom-control-title">üìä –ö–û–õ–ò–ß–ï–°–¢–í–û –°–¢–†–ê–ô–ö–û–í</div>
                        <div class="control-row">
                            <button class="btn" data-cnt="7" onclick="App.setStrikeCount(7)">7</button>
                            <button class="btn active" data-cnt="15" onclick="App.setStrikeCount(15)">15</button>
                            <button class="btn" data-cnt="21" onclick="App.setStrikeCount(21)">21</button>
                            <button class="btn" data-cnt="31" onclick="App.setStrikeCount(31)">31</button>
                        </div>
                    </div>
                    
                    <div class="bottom-control-section">
                        <div class="bottom-control-title">üíé –û–ü–¶–ò–ò –û–¢–û–ë–†–ê–ñ–ï–ù–ò–Ø</div>
                        <div class="control-row">
                            <button id="btn-prem" class="btn" onclick="App.togglePremium()">–ü–†–ï–ú–ò–ò: OFF</button>
                        </div>
                    </div>
                </div>
                
                <div class="control-row" style="margin-top: 15px; padding: 0 15px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px;">
                    <div class="control-label">‚¨ÜÔ∏è FORWARD ADJ:</div>
                    <input type="number" id="forward-adj" class="inp" placeholder="0" value="0" onchange="App.applyForwardAdjustment()">
                </div>
            </div>
        </div>

        <!-- TABLE AND STATS -->
        <div class="container">
            <div class="main-table-container">
                <div class="table-wrapper">
                    <div class="table-controls">
                        <div style="color: var(--gold); font-weight: 700;" id="table-dte-label">EXPIRATION: LOADING...</div>
                    </div>
                    <div class="table-scroll">
                        <table>
                            <thead>
                                <tr>
                                    <th>CALL<br>OI</th>
                                    <th>CALL<br>VOL</th>
                                    <th>CALL<br>PREM</th>
                                    <th>DELTA</th>
                                    <th>GAMMA</th>
                                    <th>IV</th>
                                    <th>STRIKE</th>
                                    <th>IV</th>
                                    <th>GAMMA</th>
                                    <th>DELTA</th>
                                    <th>PUT<br>PREM</th>
                                    <th>PUT<br>VOL</th>
                                    <th>PUT<br>OI</th>
                                </tr>
                            </thead>
                            <tbody id="table-body">
                                <tr>
                                    <td colspan="13" style="text-align: center; color: #666; padding: 50px;">Loading option chain data...</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="top-stats-sidebar">
                    <div class="top-stats-title">üìä TOP STATS</div>
                    <div class="top-stats-grid">
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <div class="top-stat-name">TOP CALL OI</div>
                                <div class="top-stat-icon">üìà</div>
                            </div>
                            <div class="top-stat-list" id="top-call-oi">
                                <div style="color: #888; padding: 20px; text-align: center;">Loading...</div>
                            </div>
                        </div>
                        
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <div class="top-stat-name">TOP PUT OI</div>
                                <div class="top-stat-icon">üìâ</div>
                            </div>
                            <div class="top-stat-list" id="top-put-oi">
                                <div style="color: #888; padding: 20px; text-align: center;">Loading...</div>
                            </div>
                        </div>
                        
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <div class="top-stat-name">TOP CALL VOL</div>
                                <div class="top-stat-icon">üìä</div>
                            </div>
                            <div class="top-stat-list" id="top-call-vol">
                                <div style="color: #888; padding: 20px; text-align: center;">Loading...</div>
                            </div>
                        </div>
                        
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <div class="top-stat-name">TOP PUT VOL</div>
                                <div class="top-stat-icon">üìä</div>
                            </div>
                            <div class="top-stat-list" id="top-put-vol">
                                <div style="color: #888; padding: 20px; text-align: center;">Loading...</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ANALYTICS -->
        <div class="container" id="analytics">
            <h2 class="section-header">üìà –ê–ù–ê–õ–ò–¢–ò–ö–ê –ò –†–ò–°–ö–ò</h2>
            <div class="grid-8">
                <div class="card">
                    <div class="card-header">
                        <span>üí∞</span>
                        <span>–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–ê–Ø –ë–û–õ–¨</span>
                    </div>
                    <div class="card-main-value" id="mp">$2600</div>
                    <div class="card-sub">Max Pain Level</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üìä</span>
                        <span>–û–ñ–ò–î–ê–ï–ú–û–ï –î–í–ò–ñ–ï–ù–ò–ï</span>
                    </div>
                    <div class="card-main-value" id="em">¬±$45</div>
                    <div class="card-sub" id="em-range">Range: $2555 - $2645</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üéØ</span>
                        <span>–ù–£–õ–ï–í–ê–Ø –ì–ê–ú–ú–ê</span>
                    </div>
                    <div class="card-main-value" id="zg">$2605</div>
                    <div class="card-sub" id="zg-pos">‚Üë +5.0</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üåä</span>
                        <span>–í–ê–ù–ù–ê</span>
                    </div>
                    <div class="card-main-value" id="vanna">0.12</div>
                    <div class="card-sub">Vanna Greeks</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>‚è∞</span>
                        <span>CHARM</span>
                    </div>
                    <div class="card-main-value" id="charm">0.0045</div>
                    <div class="card-sub">Time Decay</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üé®</span>
                        <span>COLOR</span>
                    </div>
                    <div class="card-main-value" id="color">-0.08</div>
                    <div class="card-sub">Gamma Decay</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üìà</span>
                        <span>PROB CALL ITM</span>
                    </div>
                    <div class="card-main-value" id="prob-c" style="color: var(--call);">45.2%</div>
                    <div class="card-sub">Probability</div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <span>üìâ</span>
                        <span>PROB PUT ITM</span>
                    </div>
                    <div class="card-main-value" id="prob-p" style="color: var(--put);">54.8%</div>
                    <div class="card-sub">Probability</div>
                </div>
            </div>
        </div>

        <!-- BREAKEVENS -->
        <div class="container">
            <h2 class="section-header">üîì TOP 10 –ë–ï–ó–£–ë–´–¢–ö–û–í</h2>
            <div class="grid-8" id="top-breakevens">
                <div style="grid-column: 1/-1; text-align: center; color: #888; padding: 30px;">
                    Loading breakeven data...
                </div>
            </div>
        </div>

        <!-- CHARTS -->
        <div class="container" id="charts">
            <h2 class="section-header">üìä –ê–ù–ê–õ–ò–¢–ò–ß–ï–°–ö–ò–ï –ì–†–ê–§–ò–ö–ò</h2>
            <div class="chart-grid-8">
                <div class="chart-container">
                    <div class="chart-title">OI DISTRIBUTION</div>
                    <canvas id="chart-oi"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">VOLUME HEATMAP</div>
                    <canvas id="chart-vol"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">IV SMILE</div>
                    <canvas id="chart-iv"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">MAX PAIN</div>
                    <canvas id="chart-mp"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">GAMMA EXPOSURE</div>
                    <canvas id="chart-gamma"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">DELTA PROFILE</div>
                    <canvas id="chart-delta"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">GEX PROFILE</div>
                    <canvas id="chart-gex"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">THETA DECAY</div>
                    <canvas id="chart-theta"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- CHART.JS -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

    <!-- –ù–ê–®–ò –ú–û–î–£–õ–ò -->
    <script src="./js/constants.js"></script>
    <script src="./js/services/cache.js"></script>
    <script src="./js/utils/helpers.js"></script>
    <script src="./js/modules/firebase.js"></script>
    <script src="./js/modules/auth.js"></script>
    <script src="./js/services/api.js"></script>
    <script src="./js/modules/charts.js"></script>
    <script src="./js/app.js"></script>

    <!-- –°–ö–†–ò–ü–¢ –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø –°–¢–†–ê–ù–ò–¶–´ -->
    <script>
        // –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–ï –°–¢–†–ê–ù–ò–¶–´ –ö–ê–ñ–î–´–ï 5 –ú–ò–ù–£–¢
        setInterval(() => {
            console.log('üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö...');
            if (!document.hidden && window.app && window.app.updateData) {
                app.updateData();
                app.updateAnalytics();
            }
        }, 5 * 60 * 1000);
        
        // –ü–†–û–í–ï–†–ö–ê –û–ù–õ–ê–ô–ù –°–¢–ê–¢–£–°–ê
        window.addEventListener('online', () => {
            if (window.app && window.app.showNotification) {
                app.showNotification('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ', 'success');
            }
        });
        
        window.addEventListener('offline', () => {
            if (window.app && window.app.showNotification) {
                app.showNotification('–ü–æ—Ç–µ—Ä—è–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º', 'warning');
            }
        });
    </script>
</body>
</html>
