<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- üî• –ê–ù–¢–ò–ö–≠–® –¢–ï–ì–ò -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ö°</text></svg>">
    <title>üèÜ Gold Options Pro v2 - Professional Trading Terminal</title>
    
    <!-- –°–¢–ò–õ–ò -->
    <link rel="stylesheet" href="./css/base.css">
    <link rel="stylesheet" href="./css/components/cards.css">
    <link rel="stylesheet" href="./css/components/modal.css">
    <link rel="stylesheet" href="./css/components/table.css">
    <link rel="stylesheet" href="./css/pages/terminal.css">
    
    <!-- FIREBASE SDK -->
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-database-compat.js"></script>

</head>
<body>
    <!-- üî• –î–ò–ù–ê–ú–ò–ß–ï–°–ö–ê–Ø –ó–ê–ì–†–£–ó–ö–ê FIREBASE CONFIG –ë–ï–ó –ö–≠–®–ê -->
    <script>
        (function() {
            console.log('üöÄ –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´ –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø –ö–≠–®–ê...');
            
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
            window.appLoaded = false;
            window.firebaseLoaded = false;
            window.configLoaded = false;
            window.authRestored = false;
            
            // 1. –û–ß–ò–°–¢–ö–ê –ö–≠–®–ê –ü–ï–†–ï–î –ó–ê–ì–†–£–ó–ö–û–ô
            function clearCachesOnStart() {
                console.log('üßπ –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ...');
                
                // –û—á–∏—â–∞–µ–º sessionStorage (–∫—Ä–æ–º–µ –º–µ—Ç–∫–∏ –æ—á–∏—Å—Ç–∫–∏)
                const itemsToKeep = ['cacheCleaned', 'sessionId'];
                for (let i = 0; i < sessionStorage.length; i++) {
                    const key = sessionStorage.key(i);
                    if (!itemsToKeep.includes(key)) {
                        sessionStorage.removeItem(key);
                    }
                }
                
                // –ü–æ–º–µ—á–∞–µ–º —á—Ç–æ –æ—á–∏—Å—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
                sessionStorage.setItem('cacheCleaned', Date.now().toString());
                
                // –£–¥–∞–ª—è–µ–º –∫—ç—à firebase-config.js –µ—Å–ª–∏ –µ—Å—Ç—å
                if ('caches' in window) {
                    caches.open('gold-options-pro-v8').then(cache => {
                        cache.delete('/trading-data/firebase-config.js').catch(() => {});
                    });
                }
                
                console.log('‚úÖ –ö—ç—à–∏ –æ—á–∏—â–µ–Ω—ã');
                return true;
            }
            
            // 2. –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–ê–Ø –ó–ê–ì–†–£–ó–ö–ê FIREBASE-CONFIG.JS
            function forceLoadFirebaseConfig() {
                return new Promise((resolve, reject) => {
                    console.log('üî• –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞...');
                    
                    // –°–æ–∑–¥–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π URL –¥–ª—è –æ–±—Ö–æ–¥–∞ –∫—ç—à–∞
                    const timestamp = Date.now();
                    const uniqueParam = `nocache=${timestamp}&version=v${timestamp}`;
                    const configUrl = `/trading-data/firebase-config.js?${uniqueParam}`;
                    
                    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç script
                    const script = document.createElement('script');
                    script.id = 'firebase-config-loader';
                    script.src = configUrl;
                    script.async = false;
                    script.defer = false;
                    
                    // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
                    script.onload = function() {
                        console.log('‚úÖ firebase-config.js –∑–∞–≥—Ä—É–∂–µ–Ω (–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ)');
                        
                        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –∫–æ–Ω—Ñ–∏–≥ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
                        if (typeof window.firebaseConfig !== 'undefined') {
                            console.log('üìä –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞:', {
                                projectId: window.firebaseConfig.projectId,
                                authDomain: window.firebaseConfig.authDomain
                            });
                            
                            window.configLoaded = true;
                            resolve(true);
                        } else {
                            console.error('‚ùå –ö–æ–Ω—Ñ–∏–≥ –∑–∞–≥—Ä—É–∂–µ–Ω, –Ω–æ window.firebaseConfig –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω');
                            reject(new Error('window.firebaseConfig –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω'));
                        }
                    };
                    
                    script.onerror = function(error) {
                        console.error('‚ùå –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å firebase-config.js', error);
                        
                        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –æ—à–∏–±–∫—É
                        showConfigError();
                        reject(error);
                    };
                    
                    // –í—Å—Ç–∞–≤–ª—è–µ–º –ü–ï–†–í–´–ú –≤ head
                    const firstScript = document.head.getElementsByTagName('script')[0];
                    if (firstScript) {
                        document.head.insertBefore(script, firstScript);
                    } else {
                        document.head.appendChild(script);
                    }
                    
                    // –¢–∞–π–º–∞—É—Ç –Ω–∞ —Å–ª—É—á–∞–π –∑–∞–≤–∏—Å–∞–Ω–∏—è
                    setTimeout(() => {
                        if (!window.configLoaded) {
                            console.warn('‚ö†Ô∏è –¢–∞–π–º–∞—É—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞');
                            script.remove();
                            reject(new Error('–¢–∞–π–º–∞—É—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ñ–∏–≥–∞'));
                        }
                    }, 10000);
                });
            }
            
            // 3. –ü–û–ö–ê–ó –û–®–ò–ë–ö–ò –ö–û–ù–§–ò–ì–ê
            function showConfigError() {
                const loadingEl = document.getElementById('loading');
                if (!loadingEl) return;
                
                loadingEl.innerHTML = `
                    <div style="text-align: center; max-width: 700px; padding: 40px;">
                        <div style="font-size: 4rem; color: #ff4444; margin-bottom: 20px;">üî•</div>
                        <h2 style="color: #ff4444; margin-bottom: 15px; font-size: 1.8rem;">
                            –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –û–®–ò–ë–ö–ê: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–∞
                        </h2>
                        
                        <div style="background: rgba(255,68,68,0.1); padding: 25px; border-radius: 12px; 
                            margin: 25px 0; text-align: left; color: #ccc; font-size: 0.95rem;">
                            <p style="margin: 0 0 15px 0;"><strong>–ü—Ä–æ–±–ª–µ–º–∞:</strong> firebase-config.js –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω</p>
                            
                            <p style="margin: 15px 0 10px 0;"><strong>üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:</strong></p>
                            <ol style="margin: 10px 0 20px 20px;">
                                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ GitHub Actions –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è —É—Å–ø–µ—à–Ω–æ</li>
                                <li>–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: 
                                    <a href="/trading-data/firebase-config.js" target="_blank" style="color: #FFD700; text-decoration: underline;">
                                        /trading-data/firebase-config.js
                                    </a>
                                </li>
                                <li>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π</li>
                            </ol>
                            
                            <p style="margin: 15px 0 10px 0;"><strong>üöÄ –†–µ—à–µ–Ω–∏—è:</strong></p>
                            <ul style="margin: 10px 0 20px 20px;">
                                <li>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏</li>
                                <li>–ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ GitHub Actions</li>
                            </ul>
                        </div>
                        
                        <div style="display: flex; flex-direction: column; gap: 12px; margin-top: 30px;">
                            <button onclick="forceHardReload()" style="padding: 14px 28px; 
                                background: linear-gradient(135deg, #FFD700, #D4AF37); color: #000; border: none; 
                                border-radius: 10px; cursor: pointer; font-weight: 800; font-size: 1rem; 
                                display: flex; align-items: center; justify-content: center; gap: 10px;">
                                <span>üîÑ</span> –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π –∫—ç—à–∞
                            </button>
                            
                            <button onclick="window.open('https://github.com/askhat707/trading-data/actions', '_blank')" 
                                style="padding: 12px 24px; background: rgba(33, 150, 243, 0.2); 
                                color: #2196F3; border: 1px solid #2196F3; border-radius: 8px; 
                                cursor: pointer; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <span>üìä</span> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub Actions
                            </button>
                            
                            <button onclick="window.open('https://github.com/askhat707/trading-data/settings/secrets/actions', '_blank')" 
                                style="padding: 12px 24px; background: rgba(76, 175, 80, 0.2); 
                                color: #4CAF50; border: 1px solid #4CAF50; border-radius: 8px; 
                                cursor: pointer; font-weight: 600; display: flex; align-items: center; justify-content: center; gap: 8px;">
                                <span>üîê</span> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å GitHub Secrets
                            </button>
                            
                            <button onclick="testConfigUrl()" 
                                style="padding: 10px 20px; background: rgba(255, 193, 7, 0.2); 
                                color: #FFC107; border: 1px solid #FFC107; border-radius: 8px; 
                                cursor: pointer; font-size: 0.9rem;">
                                üîç –ü—Ä–æ–≤–µ—Ä–∏—Ç—å URL –∫–æ–Ω—Ñ–∏–≥–∞
                            </button>
                        </div>
                    </div>
                `;
            }
            
            // 4. –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –î–õ–Ø –†–£–ß–ù–û–ì–û –£–ü–†–ê–í–õ–ï–ù–ò–Ø
            window.forceHardReload = function() {
                console.log('üí• –ó–ê–ü–£–°–ö –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û–ô –ü–ï–†–ï–ó–ê–ì–†–£–ó–ö–ò...');
                
                // 1. –û—á–∏—â–∞–µ–º –í–°–ï —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
                try {
                    localStorage.clear();
                    sessionStorage.clear();
                    
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –µ—Å–ª–∏ –µ—Å—Ç—å
                    const authData = localStorage.getItem('gold_options_auth_v7');
                    if (authData) {
                        localStorage.setItem('gold_options_auth_v7', authData);
                    }
                } catch (e) {}
                
                // 2. –£–¥–∞–ª—è–µ–º –í–°–ï service workers
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.getRegistrations().then(registrations => {
                        registrations.forEach(registration => {
                            registration.unregister();
                        });
                    });
                }
                
                // 3. –û—á–∏—â–∞–µ–º –í–°–ï –∫—ç—à–∏
                if ('caches' in window) {
                    caches.keys().then(cacheNames => {
                        cacheNames.forEach(cacheName => {
                            caches.delete(cacheName);
                        });
                    });
                }
                
                // 4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
                const reloadUrl = window.location.origin + window.location.pathname + '?force=' + Date.now();
                console.log('–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ URL:', reloadUrl);
                window.location.href = reloadUrl;
            };
            
            window.testConfigUrl = function() {
                const url = '/trading-data/firebase-config.js?' + Date.now();
                fetch(url)
                    .then(response => {
                        if (response.ok) {
                            alert('‚úÖ –ö–æ–Ω—Ñ–∏–≥ –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL\n' + url);
                        } else {
                            alert('‚ùå –ö–æ–Ω—Ñ–∏–≥ –ù–ï –¥–æ—Å—Ç—É–ø–µ–Ω\n–°—Ç–∞—Ç—É—Å: ' + response.status);
                        }
                    })
                    .catch(error => {
                        alert('‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞: ' + error.message);
                    });
            };
            
            // 5. –§–£–ù–ö–¶–ò–Ø –û–ë–ù–û–í–õ–ï–ù–ò–Ø –°–¢–ê–¢–£–°–ê –ó–ê–ì–†–£–ó–ö–ò
            window.updateLoadingStatus = function(message, progress) {
                const statusEl = document.getElementById('loading-status');
                const barEl = document.getElementById('loading-bar');
                
                if (statusEl) statusEl.textContent = message;
                if (barEl && progress !== undefined) {
                    barEl.style.width = progress + '%';
                    barEl.style.transition = 'width 0.3s ease';
                }
            };
            
            // 6. –û–°–ù–û–í–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–ò
            async function initializeApplicationSystem() {
                console.group('üöÄ –°–ò–°–¢–ï–ú–ù–ê–Ø –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø');
                
                try {
                    // –®–∞–≥ 1: –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
                    updateLoadingStatus('üßπ –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞...', 10);
                    clearCachesOnStart();
                    
                    // –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥–∞ Firebase
                    updateLoadingStatus('üî• –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Firebase...', 30);
                    await forceLoadFirebaseConfig();
                    
                    // –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ Firebase SDK
                    updateLoadingStatus('üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ Firebase SDK...', 50);
                    if (typeof firebase === 'undefined') {
                        throw new Error('Firebase SDK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
                    }
                    window.firebaseLoaded = true;
                    
                    // –®–∞–≥ 4: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker (–≤ —Ñ–æ–Ω–µ)
                    updateLoadingStatus('‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Service Worker...', 60);
                    registerServiceWorker();
                    
                    // –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                    updateLoadingStatus('üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...', 80);
                    startMainApplication();
                    
                } catch (error) {
                    console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã:', error);
                    updateLoadingStatus('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏', 100);
                    
                    setTimeout(() => {
                        showConfigError();
                    }, 1000);
                }
                
                console.groupEnd();
            }
            
            // 7. –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø SERVICE WORKER
            function registerServiceWorker() {
                if ('serviceWorker' in navigator) {
                    navigator.serviceWorker.register('./service-worker.js')
                        .then(function(registration) {
                            console.log('‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration.scope);
                            
                            // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SW
                            registration.update();
                        })
                        .catch(function(error) {
                            console.warn('‚ö†Ô∏è Service Worker –æ—à–∏–±–∫–∞:', error);
                        });
                }
            }
            
            // 8. –ó–ê–ü–£–°–ö –û–°–ù–û–í–ù–û–ì–û –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
            function startMainApplication() {
                console.log('üé¨ –ó–∞–ø—É—Å–∫ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è...');
                
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
                if (checkAllDependencies()) {
                    console.log('‚úÖ –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≥–æ—Ç–æ–≤—ã');
                    updateLoadingStatus('‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞!', 100);
                    
                    // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                    setTimeout(() => {
                        initializeApplication();
                    }, 1000);
                } else {
                    console.error('‚ùå –ù–µ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
                    setTimeout(() => {
                        startMainApplication();
                    }, 2000);
                }
            }
            
            // 9. –ü–†–û–í–ï–†–ö–ê –í–°–ï–• –ó–ê–í–ò–°–ò–ú–û–°–¢–ï–ô
            window.checkAllDependencies = function() {
                console.group('üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π');
                
                let allGood = true;
                
                // 1. –ü—Ä–æ–≤–µ—Ä—è–µ–º firebase-config.js
                if (typeof window.firebaseConfig === 'undefined') {
                    console.error('‚ùå window.firebaseConfig –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
                    allGood = false;
                } else {
                    console.log('‚úÖ window.firebaseConfig –∑–∞–≥—Ä—É–∂–µ–Ω');
                    console.log('   –ü—Ä–æ–µ–∫—Ç:', window.firebaseConfig.projectId);
                    window.configLoaded = true;
                }
                
                // 2. –ü—Ä–æ–≤–µ—Ä—è–µ–º Firebase SDK
                if (typeof firebase === 'undefined') {
                    console.error('‚ùå Firebase SDK –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω');
                    allGood = false;
                } else {
                    console.log('‚úÖ Firebase SDK –∑–∞–≥—Ä—É–∂–µ–Ω');
                    window.firebaseLoaded = true;
                }
                
                console.groupEnd();
                return allGood;
            };
            
            // 10. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø
            window.initializeApplication = function() {
                console.group('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è');
                
                try {
                    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º Firebase
                    if (window.FirebaseModule && typeof FirebaseModule.init === 'function') {
                        console.log('üî• –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Firebase...');
                        FirebaseModule.init();
                    }
                    
                    // –ó–∞–ø—É—Å–∫–∞–µ–º –º–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
                    setTimeout(() => {
                        console.log('üîê –ó–∞–ø—É—Å–∫ –º–æ–¥—É–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏...');
                        
                        if (window.AuthModule && typeof AuthModule.autoInit === 'function') {
                            AuthModule.autoInit();
                            window.appLoaded = true;
                            
                            // –°–∫—Ä—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
                            setTimeout(() => {
                                const loadingEl = document.getElementById('loading');
                                if (loadingEl) {
                                    loadingEl.style.opacity = '0';
                                    loadingEl.style.transition = 'opacity 0.5s ease';
                                    setTimeout(() => {
                                        loadingEl.style.display = 'none';
                                    }, 500);
                                }
                            }, 500);
                        } else {
                            throw new Error('AuthModule –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω');
                        }
                    }, 1000);
                    
                } catch (error) {
                    console.error('‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:', error);
                    showErrorScreen(error.message);
                }
                
                console.groupEnd();
            };
            
            // 11. –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –û–®–ò–ë–ö–ò
            window.showErrorScreen = function(message) {
                const loadingEl = document.getElementById('loading');
                if (loadingEl) {
                    loadingEl.innerHTML = `
                        <div style="text-align: center; padding: 40px; max-width: 600px;">
                            <div style="font-size: 4rem; color: #ff4444; margin-bottom: 20px;">üí•</div>
                            <h2 style="color: #ff4444; margin-bottom: 15px; font-size: 1.8rem;">
                                –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
                            </h2>
                            <div style="background: rgba(255,68,68,0.1); padding: 20px; border-radius: 10px; 
                                margin: 20px 0; text-align: left; color: #ccc; font-size: 0.95rem;">
                                <p style="margin: 0 0 10px 0;"><strong>–°–æ–æ–±—â–µ–Ω–∏–µ –æ—à–∏–±–∫–∏:</strong></p>
                                <pre style="margin: 0; padding: 15px; background: rgba(0,0,0,0.3); 
                                    border-radius: 6px; overflow: auto; font-size: 0.85rem;">${message}</pre>
                            </div>
                            
                            <div style="display: flex; flex-direction: column; gap: 10px; margin-top: 30px;">
                                <button onclick="forceHardReload()" style="padding: 12px 24px; 
                                    background: linear-gradient(135deg, #FFD700, #D4AF37); color: #000; border: none; 
                                    border-radius: 8px; cursor: pointer; font-weight: 800; font-size: 1rem;">
                                    üîÑ –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
                                </button>
                                
                                <button onclick="window.open('https://t.me/ASKHAT_1985', '_blank')" 
                                    style="padding: 12px 24px; background: rgba(33, 150, 243, 0.2); 
                                    color: #2196F3; border: 1px solid #2196F3; border-radius: 8px; 
                                    cursor: pointer; font-weight: 600;">
                                    üìû –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
                                </button>
                            </div>
                        </div>
                    `;
                }
            };
            
            // 12. –§–£–ù–ö–¶–ò–ò –î–õ–Ø –§–û–†–ú–´ –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò
            window.handleLogin = function(event) {
                if (event) event.preventDefault();
                
                const email = document.getElementById('user-email')?.value?.trim();
                const password = document.getElementById('user-password')?.value?.trim();
                
                if (!email || !password) {
                    if (window.AuthModule?.showError) {
                        AuthModule.showError('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
                    }
                    return false;
                }
                
                if (window.AuthModule && typeof AuthModule.login === 'function') {
                    AuthModule.login(email, password);
                }
                
                return false;
            };
            
            window.handleLogout = function() {
                if (window.AuthModule && typeof AuthModule.logout === 'function') {
                    if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã?')) {
                        AuthModule.logout();
                    }
                }
            };
            
            // 13. –ó–ê–ü–£–°–ö –°–ò–°–¢–ï–ú–´ –ü–†–ò –ó–ê–ì–†–£–ó–ö–ï DOM
            document.addEventListener('DOMContentLoaded', function() {
                console.log('üìÑ DOM –∑–∞–≥—Ä—É–∂–µ–Ω, –∑–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É...');
                updateLoadingStatus('üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã...', 5);
                
                // –ó–∞–ø—É—Å–∫–∞–µ–º —Å –Ω–µ–±–æ–ª—å—à–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
                setTimeout(() => {
                    initializeApplicationSystem();
                }, 500);
            });
            
            // 14. –°–¢–†–ê–•–û–í–ö–ê - –ó–ê–ü–£–°–ö –ß–ï–†–ï–ó 8 –°–ï–ö–£–ù–î –ï–°–õ–ò –ù–ï –ó–ê–ü–£–°–¢–ò–õ–û–°–¨
            setTimeout(function() {
                if (!window.appLoaded) {
                    console.warn('‚ö†Ô∏è –°–∏—Å—Ç–µ–º–∞ –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∑–∞–ø—É—Å–∫–∞—é –≤—Ä—É—á–Ω—É—é...');
                    initializeApplicationSystem();
                }
            }, 8000);
            
            console.log('‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—ç—à–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞');
        })();
    </script>

    <!-- –õ–û–ê–î–ï–† -->
    <div id="loading">
        <div style="text-align: center; max-width: 400px; padding: 30px;">
            <div style="font-size: 4rem; margin-bottom: 20px; color: #FFD700;">‚ö°</div>
            <div style="color: #FFD700; font-size: 2rem; font-weight: 800; margin-bottom: 20px; letter-spacing: 2px;">
                GOLD OPTIONS PRO v2
            </div>
            <div style="color: #888; font-size: 1rem; margin-bottom: 30px;">
                –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞...
            </div>
            <div style="width: 300px; height: 4px; background: rgba(255,215,0,0.2); border-radius: 2px; overflow: hidden; margin: 0 auto 30px;">
                <div id="loading-bar" style="height: 100%; background: linear-gradient(90deg, #FFD700, #FFD700); width: 5%; transition: width 0.3s ease;"></div>
            </div>
            <div id="loading-status" style="color: #666; font-size: 0.85rem;">
                üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã...
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–ò -->
    <div id="auth-modal" class="auth-modal hidden">
        <div class="auth-container">
            <div class="auth-header">
                <div class="auth-logo">GOLD OPTIONS PRO</div>
                <div class="auth-subtitle">Professional Trading Terminal</div>
            </div>
            
            <div id="auth-error" class="auth-error"></div>
            
            <div id="user-info" class="user-info" style="display: none;">
                <div class="user-email">user@example.com</div>
                <div class="user-plan plan-trial">TRIAL</div>
            </div>
            
            <form id="auth-form" class="auth-form" onsubmit="return handleLogin(event);">
                <div class="form-group">
                    <label class="form-label" for="user-email">Email</label>
                    <input type="email" id="user-email" class="form-input" placeholder="your@email.com" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="user-password">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="user-password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                
                <button type="submit" class="auth-button" id="login-btn">
                    –í–û–ô–¢–ò –í –°–ò–°–¢–ï–ú–£
                </button>
            </form>
            
            <div class="auth-footer">
                <div style="margin-bottom: 15px; color: #666; font-size: 0.8rem;">
                    üîê –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
                </div>
                <button id="logout-btn" class="auth-button secondary" onclick="handleLogout()" style="display: none; width: 100%;">
                    –í–´–ô–¢–ò –ò–ó –°–ò–°–¢–ï–ú–´
                </button>
            </div>
        </div>
    </div>

    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div id="main-content">
        <!-- –®–ê–ü–ö–ê –¢–ï–†–ú–ò–ù–ê–õ–ê -->
        <header>
            <div class="logo">
                <span>‚ö°</span> GOLD OPTIONS PRO v2
            </div>
            
            <nav>
                <a href="#" class="active">üìä –¢–µ—Ä–º–∏–Ω–∞–ª</a>
                <a href="#" onclick="showAboutModal(); return false;">‚ÑπÔ∏è –û –ø—Ä–æ–≥—Ä–∞–º–º–µ</a>
                <a href="#" onclick="showTermsModal(); return false;">üìú –£—Å–ª–æ–≤–∏—è</a>
                <a href="#" onclick="showPrivacyModal(); return false;">üîí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</a>
                <a href="https://t.me/ASKHAT_1985" target="_blank" class="btn-telegram">üì± Telegram</a>
            </nav>
            
            <div class="user-menu">
                <div class="user-badge">
                    <span>üë§</span>
                    <span id="user-display">–ì–æ—Å—Ç—å</span>
                </div>
                <button id="header-logout" class="logout-btn" onclick="handleLogout()" style="display: none;">
                    –í—ã–π—Ç–∏
                </button>
            </div>
        </header>

        <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ô–ù–ï–† -->
        <div class="container">
            <!-- –ó–ê–ì–û–õ–û–í–û–ö -->
            <h1 class="main-title">GOLD OPTIONS ANALYTICS TERMINAL</h1>
            
            <!-- –°–¢–ê–¢–£–° –ü–ê–ù–ï–õ–¨ -->
            <div class="status-bar">
                <div class="connection-status" id="connStatus">
                    <span style="color:#666">üîÑ INITIALIZING...</span>
                </div>
                
                <div class="data-grid">
                    <div class="data-box">
                        <div class="data-label">CURRENT PRICE</div>
                        <div class="data-value price" id="price">$---</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">MAX PAIN</div>
                        <div class="data-value" id="mp">$---</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">EXPECTED MOVE</div>
                        <div class="data-value" id="em">¬±$---</div>
                        <div style="font-size:0.8rem; color:#888; margin-top:5px;" id="em-range">--</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">ZERO GAMMA</div>
                        <div class="data-value" id="zg">$---</div>
                        <div style="font-size:0.8rem; color:#888; margin-top:5px;" id="zg-pos">--</div>
                    </div>
                    <div class="data-box">
                        <div class="data-label">CALL/PUT RATIO</div>
                        <div class="data-value" id="cp-ratio">--</div>
                        <div style="font-size:0.8rem; color:#888; margin-top:5px;" id="sentiment">--</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px; color: #666; font-size: 0.85rem;">
                    Last Updated: <span id="updated">--:--:--</span> | 
                    DTE: <span id="current-dte-display">--</span> | 
                    Data Version: <span id="data-version">v6</span>
                </div>
            </div>

            <!-- –ö–ê–†–¢–û–ß–ö–ò –ê–ù–ê–õ–ò–¢–ò–ö–ò -->
            <h2 class="section-header">üìä –û–ü–¶–ò–û–ù–ù–ê–Ø –ê–ù–ê–õ–ò–¢–ò–ö–ê</h2>
            <div class="grid-8">
                <div class="card">
                    <div class="card-header">
                        <span>üìà VANNA</span>
                        <div class="info-icon">i
                            <div class="tooltip">–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–ª—å—Ç—ã –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –¥–µ–ª—å—Ç–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ IV –Ω–∞ 1%.</div>
                        </div>
                    </div>
                    <div class="card-main-value" id="vanna">--</div>
                    <div class="card-sub">Delta/Volatility Sensitivity</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <span>üîÑ CHARM</span>
                        <div class="info-icon">i
                            <div class="tooltip">–°–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–µ–ª—å—Ç—ã —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ –¥–µ–ª—å—Ç–∞ –∏–∑–º–µ–Ω–∏—Ç—Å—è –∑–∞ 1 –¥–µ–Ω—å.</div>
                        </div>
                    </div>
                    <div class="card-main-value" id="charm">--</div>
                    <div class="card-sub">Delta Decay Over Time</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <span>üé® COLOR</span>
                        <div class="info-icon">i
                            <div class="tooltip">–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≥–∞–º–º—ã –∫–æ –≤—Ä–µ–º–µ–Ω–∏. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—Å—è –≥–∞–º–º–∞ –∑–∞ 1 –¥–µ–Ω—å.</div>
                        </div>
                    </div>
                    <div class="card-main-value" id="color">--</div>
                    <div class="card-sub">Gamma Time Sensitivity</div>
                </div>
                
                <div class="card premium-block">
                    <div class="card-header">
                        <span>üéØ PROB ITM CALL</span>
                        <div class="info-icon">i
                            <div class="tooltip">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —á—Ç–æ CALL –æ–ø—Ü–∏–æ–Ω –æ–∫–∞–∂–µ—Ç—Å—è –≤ –¥–µ–Ω—å–≥–∞—Ö –ø—Ä–∏ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏. –†–∞—Å—á–µ—Ç –ø–æ —Ç–µ–∫—É—â–µ–π IV.</div>
                        </div>
                    </div>
                    <div class="card-main-value" id="prob-c">--%</div>
                    <div class="card-sub">Probability Call ITM</div>
                    
                    <div class="premium-lock">
                        <div class="lock-icon">üîí</div>
                        <div class="lock-title">PREMIUM FEATURE</div>
                        <div class="lock-text">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ITM –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ PREMIUM –≤–µ—Ä—Å–∏–∏</div>
                        <button class="upgrade-button" onclick="showPaymentModal()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ PREMIUM</button>
                    </div>
                </div>
                
                <div class="card premium-block">
                    <div class="card-header">
                        <span>üéØ PROB ITM PUT</span>
                        <div class="info-icon">i
                            <div class="tooltip">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —á—Ç–æ PUT –æ–ø—Ü–∏–æ–Ω –æ–∫–∞–∂–µ—Ç—Å—è –≤ –¥–µ–Ω—å–≥–∞—Ö –ø—Ä–∏ —ç–∫—Å–ø–∏—Ä–∞—Ü–∏–∏. –†–∞—Å—á–µ—Ç –ø–æ —Ç–µ–∫—É—â–µ–π IV.</div>
                        </div>
                    </div>
                    <div class="card-main-value" id="prob-p">--%</div>
                    <div class="card-sub">Probability Put ITM</div>
                    
                    <div class="premium-lock">
                        <div class="lock-icon">üîí</div>
                        <div class="lock-title">PREMIUM FEATURE</div>
                        <div class="lock-text">–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å ITM –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ PREMIUM –≤–µ—Ä—Å–∏–∏</div>
                        <button class="upgrade-button" onclick="showPaymentModal()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ PREMIUM</button>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <span>‚ö° GAMMA PEAK</span>
                        <div class="info-icon">i
                            <div class="tooltip">–£—Ä–æ–≤–µ–Ω—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏–∏ –≥–∞–º–º—ã. –í–∞–∂–Ω–∞—è —Ç–æ—á–∫–∞ –¥–ª—è —Ä—ã–Ω–æ—á–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π.</div>
                        </div>
                    </div>
                    <div class="card-main-value" id="gamma-peak">--</div>
                    <div class="card-sub">Maximum Gamma Concentration</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <span>üìä DELTA FLIP</span>
                        <div class="info-icon">i
                            <div class="tooltip">–£—Ä–æ–≤–µ–Ω—å –≥–¥–µ –æ–±—â–∞—è –¥–µ–ª—å—Ç–∞ –æ–ø—Ü–∏–æ–Ω–æ–≤ –º–µ–Ω—è–µ—Ç –∑–Ω–∞–∫. –ö–ª—é—á–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –¥–ª—è —Ä—ã–Ω–∫–∞.</div>
                        </div>
                    </div>
                    <div class="card-main-value" id="delta-flip">--</div>
                    <div class="card-sub">Net Delta Zero Point</div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <span>üîÆ VOLATILITY SMILE</span>
                        <div class="info-icon">i
                            <div class="tooltip">–ö—Ä–∏–≤–∏–∑–Ω–∞ –∫—Ä–∏–≤–æ–π –ø–æ–¥—Ä–∞–∑—É–º–µ–≤–∞–µ–º–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏. –ü–æ–∫–∞–∂–∞–µ—Ç –∞—Å–∏–º–º–µ—Ç—Ä–∏—é —Ä—ã–Ω–∫–∞.</div>
                        </div>
                    </div>
                    <div class="card-main-value" id="vol-smile">--</div>
                    <div class="card-sub">IV Curve Skewness</div>
                </div>
            </div>

            <!-- –ì–†–ê–§–ò–ö–ò -->
            <h2 class="section-header">üìà –í–ò–ó–£–ê–õ–¨–ù–ê–Ø –ê–ù–ê–õ–ò–¢–ò–ö–ê</h2>
            <div class="chart-grid-8">
                <div class="chart-container">
                    <div class="chart-title">Open Interest Distribution</div>
                    <canvas id="chart-oi"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Volume Heatmap</div>
                    <canvas id="chart-vol"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">IV Smile Curve</div>
                    <canvas id="chart-iv"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Max Pain Curve</div>
                    <canvas id="chart-mp"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Gamma Exposure</div>
                    <canvas id="chart-gamma"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Delta Profile</div>
                    <canvas id="chart-delta"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">GEX Profile</div>
                    <canvas id="chart-gex"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Theta Decay</div>
                    <canvas id="chart-theta"></canvas>
                </div>
            </div>

            <!-- –¢–ê–ë–õ–ò–¶–ê –ò –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
            <div class="main-table-container">
                <!-- –ë–û–ö–û–í–ê–Ø –ü–ê–ù–ï–õ–¨ –°–¢–ê–¢–ò–°–¢–ò–ö–ò -->
                <div class="top-stats-sidebar">
                    <div class="top-stats-title">üèÜ TOP STATISTICS</div>
                    
                    <div class="top-stats-grid">
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <span class="top-stat-name">TOP CALL OI</span>
                                <span class="top-stat-icon">üìà</span>
                            </div>
                            <div class="top-stat-list" id="top-call-oi">
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <span class="top-stat-name">TOP PUT OI</span>
                                <span class="top-stat-icon">üìâ</span>
                            </div>
                            <div class="top-stat-list" id="top-put-oi">
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <span class="top-stat-name">TOP CALL VOL</span>
                                <span class="top-stat-icon">üî•</span>
                            </div>
                            <div class="top-stat-list" id="top-call-vol">
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <span class="top-stat-name">TOP PUT VOL</span>
                                <span class="top-stat-icon">üíß</span>
                            </div>
                            <div class="top-stat-list" id="top-put-vol">
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                        
                        <div class="top-stat-box">
                            <div class="top-stat-header">
                                <span class="top-stat-name">TOP BREAKEVENS</span>
                                <span class="top-stat-icon">üéØ</span>
                            </div>
                            <div class="top-stat-list" id="top-breakevens">
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –û–°–ù–û–í–ù–ê–Ø –¢–ê–ë–õ–ò–¶–ê -->
                <div class="table-wrapper">
                    <div class="table-controls">
                        <div style="font-weight: 700; color: var(--gold); font-size: 1.1rem;" id="table-dte-label">
                            EXPIRATION: LOADING...
                        </div>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <span style="color: #888; font-size: 0.85rem;">Strikes:</span>
                            <button data-cnt="15" class="btn active" onclick="app.setStrikeCount(15)">15</button>
                            <button data-cnt="21" class="btn" onclick="app.setStrikeCount(21)">21</button>
                            <button data-cnt="31" class="btn" onclick="app.setStrikeCount(31)">31</button>
                        </div>
                    </div>
                    
                    <div class="table-scroll">
                        <table>
                            <thead>
                                <tr>
                                    <th>CALL OI</th>
                                    <th>CALL VOL</th>
                                    <th>CALL PREM</th>
                                    <th>CALL Œî</th>
                                    <th>CALL Œì</th>
                                    <th>CALL IV</th>
                                    <th>STRIKE</th>
                                    <th>PUT IV</th>
                                    <th>PUT Œì</th>
                                    <th>PUT Œî</th>
                                    <th>PUT PREM</th>
                                    <th>PUT VOL</th>
                                    <th>PUT OI</th>
                                </tr>
                            </thead>
                            <tbody id="table-body">
                                <!-- –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- –ö–û–ù–¢–†–û–õ–¨–ù–ê–Ø –ü–ê–ù–ï–õ–¨ -->
            <div class="bottom-control-panel">
                <div class="bottom-control-grid">
                    <div class="bottom-control-section">
                        <div class="bottom-control-title">
                            <span>üìÖ EXPIRATION SELECTION</span>
                        </div>
                        <div class="control-row">
                            <div id="dte-buttons" style="display: flex; gap: 10px; flex-wrap: wrap;">
                                <span style="color: #666;">Loading expirations...</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bottom-control-section">
                        <div class="bottom-control-title">
                            <span>‚öôÔ∏è DISPLAY SETTINGS</span>
                        </div>
                        <div class="control-row">
                            <div class="control-group">
                                <span class="control-label">Show Premiums:</span>
                                <button id="btn-prem" class="btn" onclick="app.togglePremium()">OFF</button>
                            </div>
                            <div class="control-group">
                                <span class="control-label">Forward Adj:</span>
                                <input type="number" id="forward-adj" class="inp" value="0" step="0.5" 
                                       onchange="app.applyForwardAdjustment()">
                                <button class="btn" onclick="app.applyForwardAdjustment()">Apply</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bottom-control-section">
                        <div class="bottom-control-title">
                            <span>üîß SYSTEM TOOLS</span>
                        </div>
                        <div class="control-row">
                            <button class="btn" onclick="forceHardReload()">üîÑ Force Reload</button>
                            <button class="btn" onclick="CacheControl.clearAllCaches()">üßπ Clear Cache</button>
                            <button class="btn" onclick="testConfigUrl()">üîç Test Config</button>
                            <button class="btn" onclick="window.location.reload(true)">üîÑ Reload Page</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>

    <!-- –ù–ê–®–ò –ú–û–î–£–õ–ò (–ó–ê–ì–†–£–ñ–ê–Æ–¢–°–Ø –ü–û–°–õ–ï –ö–û–ù–§–ò–ì–ê) -->
    <script src="./js/constants.js"></script>
    <script src="./js/services/cache.js"></script>
    <script src="./js/utils/helpers.js"></script>
    <script src="./js/utils/cache-control.js"></script>
    <script src="./js/modules/firebase.js"></script>
    <script src="./js/modules/auth.js"></script>
    <script src="./js/services/api.js"></script>
    <script src="./js/modules/charts.js"></script>
    <script src="./js/app.js"></script>

    <!-- –¢–†–ò–ê–õ –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û -->
    <div id="trial-modal" class="trial-modal-overlay">
        <div class="trial-modal">
            <button class="close-trial-modal" onclick="hideTrialModal()">√ó</button>
            <div class="trial-modal-header">
                <div class="trial-modal-title">üéâ –î–û–ë–†–û –ü–û–ñ–ê–õ–û–í–ê–¢–¨ –í TRIAL</div>
                <div class="trial-modal-subtitle">–ü–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Ñ—É–Ω–∫—Ü–∏—è–º</div>
            </div>
            
            <div class="trial-info-box">
                <div class="info-row">
                    <span class="info-label">–í–∞—à email:</span>
                    <span class="info-value" id="admin-email">user@example.com</span>
                    <button class="copy-btn" onclick="copyAdminEmail()">üìã</button>
                </div>
                <div class="info-row">
                    <span class="info-label">–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:</span>
                    <span class="info-value" id="admin-telegram">@ASKHAT_1985</span>
                    <button class="copy-btn" onclick="copyTelegram()">üìã</button>
                </div>
                <div class="info-row">
                    <span class="info-label">–î–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å:</span>
                    <span class="info-value" id="trial-days-left">3</span>
                </div>
            </div>
            
            <div class="trial-template">
                <span class="template-label">üì± –®–∞–±–ª–æ–Ω –¥–ª—è —Å–≤—è–∑–∏ —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º:</span>
                <div class="template-text" id="trial-message-template">
–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –•–æ—á—É –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å PREMIUM –¥–æ—Å—Ç—É–ø –∫ Gold Options Pro v2.

–ú–æ–π email: user@example.com
–¢–µ–∫—É—â–∏–π –ø–ª–∞–Ω: TRIAL (–æ—Å—Ç–∞–ª–æ—Å—å 3 –¥–Ω–µ–π)
–ü—Ä–æ—à—É –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–ª—è –æ–ø–ª–∞—Ç—ã.
                </div>
            </div>
            
            <div style="display: flex; gap: 10px; margin: 20px 0;">
                <button class="copy-btn" onclick="copyTemplate()">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω</button>
                <button class="copy-btn" onclick="openTelegramForTrial()">üì≤ –û—Ç–∫—Ä—ã—Ç—å Telegram</button>
            </div>
            
            <div class="trial-modal-footer">
                <button class="auth-button" onclick="showPaymentModal()" style="width: 100%;">
                    üíé –ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨ PREMIUM
                </button>
            </div>
        </div>
    </div>

    <!-- –°–ö–†–ò–ü–¢ –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–Ø –°–¢–†–ê–ù–ò–¶–´ -->
    <script>
        // –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–ï –°–¢–†–ê–ù–ò–¶–´ –ö–ê–ñ–î–´–ï 5 –ú–ò–ù–£–¢
        setInterval(() => {
            console.log('üîÑ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã...');
            
            // –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–Ω–æ –ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π
            if (!document.hidden) {
                // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ, –Ω–µ –≤—Å—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                if (window.app && window.app.updateData) {
                    app.updateData();
                    app.updateAnalytics();
                }
            }
        }, 5 * 60 * 1000); // 5 –º–∏–Ω—É—Ç
        
        // –ü–†–û–í–ï–†–ö–ê –û–ù–õ–ê–ô–ù –°–¢–ê–¢–£–°–ê
        window.addEventListener('online', () => {
            console.log('‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
            if (window.app && window.app.showNotification) {
                app.showNotification('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ', 'success');
            }
        });
        
        window.addEventListener('offline', () => {
            console.warn('‚ö†Ô∏è –ü–æ—Ç–µ—Ä—è–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º');
            if (window.app && window.app.showNotification) {
                app.showNotification('–ü–æ—Ç–µ—Ä—è–Ω–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–æ–º', 'warning');
            }
        });
        
        // –ü–†–ï–î–û–¢–í–†–ê–©–ï–ù–ò–ï –ü–û–í–¢–û–†–ù–û–ô –û–¢–ü–†–ê–í–ö–ò –§–û–†–ú
        document.addEventListener('DOMContentLoaded', () => {
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', (e) => {
                    const submitBtn = form.querySelector('button[type="submit"]');
                    if (submitBtn) {
                        submitBtn.disabled = true;
                        submitBtn.innerHTML = '–û–ë–†–ê–ë–û–¢–ö–ê...';
                        
                        setTimeout(() => {
                            submitBtn.disabled = false;
                            submitBtn.innerHTML = '–í–û–ô–¢–ò –í –°–ò–°–¢–ï–ú–£';
                        }, 3000);
                    }
                });
            });
        });
        
        console.log('‚úÖ –í—Å–µ —Å–∏—Å—Ç–µ–º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ');
    </script>
    <script>
// üî• –ì–ê–†–ê–ù–¢–ò–†–û–í–ê–ù–ù–´–ô –ü–û–ö–ê–ó –ú–û–î–ê–õ–¨–ù–û–ì–û –û–ö–ù–ê –í–•–û–î–ê
document.addEventListener('DOMContentLoaded', function() {
    console.log('üìÑ DOM –∑–∞–≥—Ä—É–∂–µ–Ω - –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∫–∞–∑ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞');
    
    // 1. –°–∫—Ä—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
    setTimeout(() => {
        const loading = document.getElementById('loading');
        if (loading) {
            loading.style.opacity = '0';
            loading.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
                loading.style.display = 'none';
            }, 500);
        }
        
        // 2. –ü–†–ò–ù–£–î–ò–¢–ï–õ–¨–ù–û –ü–û–ö–ê–ó–´–í–ê–ï–ú –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –í–•–û–î–ê
        const authModal = document.getElementById('auth-modal');
        if (authModal) {
            // –£–¥–∞–ª—è–µ–º –≤—Å–µ —Å–∫—Ä—ã–≤–∞—é—â–∏–µ –∫–ª–∞—Å—Å—ã –∏ —Å—Ç–∏–ª–∏
            authModal.classList.remove('hidden');
            authModal.style.display = 'flex';
            authModal.style.opacity = '1';
            authModal.style.visibility = 'visible';
            authModal.style.pointerEvents = 'auto';
            
            console.log('‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—Ö–æ–¥–∞ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑–∞–Ω–æ');
        }
        
        // 3. –°–∫—Ä—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç
        const mainContent = document.getElementById('main-content');
        if (mainContent) {
            mainContent.style.display = 'none';
        }
    }, 1000);
    
    // 2. –ó–∞–ø—É—Å–∫–∞–µ–º AuthModule —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã
    setTimeout(() => {
        if (window.AuthModule && typeof AuthModule.autoInit === 'function') {
            console.log('üîê –ó–∞–ø—É—Å–∫ AuthModule.autoInit()');
            AuthModule.autoInit();
        } else {
            console.error('‚ùå AuthModule –Ω–µ –Ω–∞–π–¥–µ–Ω, –Ω–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–∫–∞–∑–∞–Ω–æ');
        }
    }, 2000);
    
    // 3. –°—Ç—Ä–∞—Ö–æ–≤–∫–∞: —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –µ—Å–ª–∏ –æ–∫–Ω–æ –≤—Å–µ –µ—â–µ —Å–∫—Ä—ã—Ç–æ
    setTimeout(() => {
        const authModal = document.getElementById('auth-modal');
        if (authModal && authModal.style.display !== 'flex') {
            console.warn('‚ö†Ô∏è –°—Ç—Ä–∞—Ö–æ–≤–∫–∞: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ');
            authModal.style.display = 'flex';
            authModal.style.opacity = '1';
        }
    }, 5000);
});

// üî• –ì–õ–û–ë–ê–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò –î–õ–Ø –û–ë–†–ê–ë–û–¢–ö–ò –í–•–û–î–ê
window.handleLogin = function(event) {
    if (event) event.preventDefault();
    
    const email = document.getElementById('user-email')?.value?.trim();
    const password = document.getElementById('user-password')?.value?.trim();
    
    if (!email || !password) {
        if (window.AuthModule?.showError) {
            AuthModule.showError('‚ùå –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è');
        }
        return false;
    }
    
    if (window.AuthModule && typeof AuthModule.login === 'function') {
        AuthModule.login(email, password);
    }
    
    return false;
};

window.handleLogout = function() {
    if (window.AuthModule && typeof AuthModule.logout === 'function') {
        if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã?')) {
            AuthModule.logout();
        }
    }
};
</script>
</body>
</html>
